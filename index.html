<script>
document.addEventListener("DOMContentLoaded", () => {

const video = document.getElementById("video");
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const captureBtn = document.getElementById("capture");
const downloadBtn = document.getElementById("download");
const nameInput = document.getElementById("nameInput");

let photos = [];

// Aktifkan kamera
navigator.mediaDevices.getUserMedia({
  video: { facingMode: "user" },
  audio: false
}).then(stream => {
  video.srcObject = stream;
}).catch(err => {
  alert("Kamera tidak bisa diakses ðŸ˜¢");
  console.error(err);
});

// Ambil foto
captureBtn.onclick = () => {
  if (photos.length >= 3) return;

  const temp = document.createElement("canvas");
  temp.width = video.videoWidth;
  temp.height = video.videoHeight;
  temp.getContext("2d").drawImage(video, 0, 0);
  photos.push(temp);

  if (photos.length === 3) {
    createStrip();
    downloadBtn.style.display = "inline-block";
  }
};

// ===== fungsi lain tetap =====
// drawGrid()
// drawPhotoCover()
// createStrip()
// downloadBtn.onclick

});
</script>
